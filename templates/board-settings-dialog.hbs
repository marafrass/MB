<div class="board-settings-content">
  <form class="board-settings-form">
    
    <div class="form-section">
      <h3 class="section-title">Board Configuration</h3>
      
      <div class="form-group">
        <label for="board-name" class="form-label">Board Name:</label>
        <input 
          type="text" 
          id="board-name" 
          name="board-name" 
          value="{{boardName}}" 
          placeholder="Enter board name"
          class="form-input"
        />
      </div>

      <div class="form-group">
        <label class="form-label">Canvas Color:</label>
        {{> color-picker 
          name="canvas-color"
          colors=connectionColors
          currentColor=canvasColor
        }}
        <p class="form-help">Choose the base color for your murder board canvas. This will be visible in empty areas and behind any custom background image you add.</p>
      </div>
          
      <div class="form-group">
        <label for="background-image" class="form-label">Custom Background Image:</label>
        <div class="file-input-wrapper">
          {{#file-picker type="image" buttonClass="murder-board-btn"}}{{/file-picker}}
          <input type="text" id="background-image" name="backgroundImage" value="{{backgroundImage}}" placeholder="Path to image..." style="margin-top: 8px; width: 100%;">
        </div>
        <p class="form-help">Add a custom background image to your board. It will be centered at the canvas center and layered over your chosen canvas color.</p>
      </div>

      {{#if backgroundImage}}
      <div class="form-group">
        <label for="background-scale" class="form-label">Background Scale: <span id="scale-value">{{backgroundScale}}</span>x</label>
        <input 
          type="range" 
          id="background-scale" 
          name="background-scale" 
          value="{{backgroundScale}}" 
          min="0.1" 
          max="3.0" 
          step="0.1"
          class="form-range"
        />
        <p class="form-help">Adjust the size of the background image (0.1x to 3.0x scale, centered at canvas center)</p>
      </div>
      {{/if}}

      
      {{> color-picker 
        name="connection-color"
        colors=connectionColors
        currentColor=defaultConnectionColor
        label="Default Connection Color"
      }}

      <div class="form-group">
        <label for="connection-size" class="form-label">Default Connection Size: <span id="size-value">{{defaultConnectionSize}}</span></label>
        <input 
          type="range" 
          id="connection-size" 
          name="connection-size" 
          value="{{defaultConnectionSize}}" 
          min="1" 
          max="10" 
          step="1"
          class="form-range"
        />
        <p class="form-help">Set the default thickness for new connections (1 = thin, 10 = very thick)</p>
      </div>

      {{> font-select 
        name="default-font"
        fonts=availableFonts
        currentFont=defaultFont
        label="Default Font for New Items"
      }}
      <p class="form-help">Choose the default font for all newly created items on this board.</p>

      {{> color-picker 
        name="default-font-color"
        colors=connectionColors
        currentColor=defaultFontColor
        label="Default Font Color for New Items"
      }}
      <p class="form-help">Choose the default text color for all newly created text and note items on this board.</p>
    </div>

    <div class="form-section">
      <h3 class="section-title">Player Permissions</h3>
      
      <div class="form-group">
        <div style="overflow-x: auto;">
          <table class="permission-table" style="width: 100%; border-collapse: collapse;">
            <thead>
              <tr style="border-bottom: 2px solid rgba(255,255,255,0.2);">
                <th style="text-align: left; padding: 8px; font-weight: 600;">Player</th>
                <th style="text-align: center; padding: 8px; font-weight: 600; width: 100px;">Can View</th>
                <th style="text-align: center; padding: 8px; font-weight: 600; width: 100px;">Can Edit</th>
              </tr>
            </thead>
            <tbody>
              {{{playerPermissionTable}}}
            </tbody>
          </table>
        </div>

        <div style="display: flex; gap: 8px; margin-top: 12px;">
          <button class="settings-btn" id="toggle-view-all" type="button" style="flex: 1; padding: 6px 12px; font-size: 12px;">
            View: All
          </button>
          <button class="settings-btn" id="toggle-view-none" type="button" style="flex: 1; padding: 6px 12px; font-size: 12px;">
            View: None
          </button>
          <button class="settings-btn" id="toggle-edit-all" type="button" style="flex: 1; padding: 6px 12px; font-size: 12px;">
            Edit: All
          </button>
          <button class="settings-btn" id="toggle-edit-none" type="button" style="flex: 1; padding: 6px 12px; font-size: 12px;">
            Edit: None
          </button>
        </div>
      </div>
    </div>
  </form>

  <div class="board-settings-buttons" style="display: flex; justify-content: space-between;">
    <div style="display: flex; gap: 8px;">
      {{#if canDeleteBoard}}
      <button class="settings-btn delete-btn" data-action="delete">
        <i class="fas fa-trash"></i>
        Delete Board
      </button>
      {{/if}}
    </div>
    <div style="display: flex; gap: 8px;">
      <button class="settings-btn cancel-btn" data-action="cancel">
        <i class="fas fa-times"></i>
        Cancel
      </button>
      <button class="settings-btn save-btn" data-action="save">
        <i class="fas fa-save"></i>
        Save
      </button>
    </div>
  </div>
</div>
